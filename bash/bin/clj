#!/usr/bin/env bash

CLASS_PATH=$(brew --cellar)/clojure/HEAD/clojure.jar:$(brew --cellar)/clojure-contrib/HEAD/clojure-contrib.jar
breakchars="(){}[],^%$#@\"\";:''|\\"

if [ $# -eq 0 ]; then 
  exec rlwrap --remember -c -b "$breakchars" \
  -f "$HOME"/.clj_completions \
  java -cp "$CLASS_PATH" clojure.main --repl
else
  exec java -cp "$CLASS_PATH" clojure.main $@
fi
